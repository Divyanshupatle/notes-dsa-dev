<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Debouncing</title>
    </head>
    <body>
        <input id="input-field"/>
        <script>
            const input_field = document.querySelector("#input-field");
            
            function getData(){
                console.log('data fetching...');
            }

            const handleThrotling = debouncing(getData, 400);

            input_field.addEventListener("keydown", handleThrotling);
            
            function debouncing(func, delay){
                let timeout;

                return function executed(){
                    clearTimeout(timeout);
                    timeout = setTimeout(() => {
                        func();
                        clearTimeout(timeout);
                    }, delay);
                }
            }

        </script>
    </body>
</html>